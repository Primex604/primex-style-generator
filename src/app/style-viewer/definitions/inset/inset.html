<div class="container">
    <div class="explanation">{{definition}}</div>
    <div class="definition">
        <div class="syntax">
            <p>Inset(</p>
            <button
                (click)="argSelect(length_percentage.value)"
                [ngClass]="{'selected': currentArg == length_percentage.value}"
            >
                {{length_percentage.syntax}}
            </button>
            <span>{{'{1,4}'}}</span>
            <span>[ round</span>
            <button
                (click)="argSelect(border_radius.value)"
                [ngClass]="{'selected': currentArg == border_radius.value}"
            >
                {{border_radius.syntax}}
            </button>
            <span>]? </span>
            <p>)</p>
        </div>
        <button class="reset" (click)="resetValues()"> Reset</button>
    </div>
    @if (level_1) {
        <div class="syntax">
            @switch (currentArg) {
                @case (insetArgs.length_percentage) {
                    <div class="multiple-options">
                        @for (figSide of figureSides; track $index) {
                            <div class="length-percentage" [id]="figSide.side">
                                <div [class]="'length ' + figSide.side">
                                    <p>length [0,∞] ({{figSide.side}}) :</p>
                                    <input 
                                        [id]="'length-' + figSide.side" 
                                        type="number" 
                                        min="0" 
                                        max="150" 
                                        [(ngModel)]="length_sides[figSide.side].value" 
                                        (change)="onUnitChange(figSide.side, insetArgs.length_percentage)"
                                    />
                                    <select 
                                        [id]="'length-type-' + figSide.side" 
                                        [(ngModel)]="length_sides[figSide.side].unit" 
                                        (change)="onUnitChange(figSide.side, insetArgs.length_percentage)"
                                    >
                                        @for (comp of length_percentage.composition[insetLengthTypes.length].composition; track $index) {
                                            <option [value]="comp.unit">{{comp.unit}}</option>
                                        }
                                    </select>
                                </div>
                                <span> OR </span>
                                <div class="percentage">
                                    <p>percentage [0,∞] ({{figSide.side}}) :</p>
                                    <input 
                                        id="length" 
                                        type="number" 
                                        min="0" 
                                        max="100" 
                                        [(ngModel)]="length_sides[figSide.side].percentage" 
                                        (change)="onUnitChange(figSide.side, insetArgs.length_percentage , true)"
                                    />
                                </div>
                            </div>
                        }
                    </div>
                }
                @case (insetArgs.border_radius) {
                    <div class="multiple-options">
                        @for (figCorner of figureCorners; track $index) {
                            <div class="length-percentage" [id]="figCorner.corner">
                                <div [class]="'length ' + figCorner.corner">
                                    <p>length [0,∞] ({{figCorner.corner}}) :</p>
                                    <input 
                                        [id]="'length-' + figCorner.corner" 
                                        type="number" 
                                        min="0" 
                                        max="150" 
                                        [(ngModel)]="border_lengths[figCorner.corner].value" 
                                        (change)="onUnitChange(figCorner.corner, insetArgs.border_radius)"
                                    />
                                    <select 
                                        [id]="'length-type-' + figCorner.corner" 
                                        [(ngModel)]="border_lengths[figCorner.corner].unit" 
                                        (change)="onUnitChange(figCorner.corner, insetArgs.border_radius)"
                                    >
                                        @for (comp of length_percentage.composition[insetLengthTypes.length].composition; track $index) {
                                            <option [value]="comp.unit">{{comp.unit}}</option>
                                        }
                                    </select>
                                </div>
                                <span> OR </span>
                                <div class="percentage">
                                    <p>percentage [0,∞] ({{figCorner.corner}}) :</p>
                                    <input 
                                        id="length" 
                                        type="number" 
                                        min="0" 
                                        max="100" 
                                        [(ngModel)]="border_lengths[figCorner.corner].percentage" 
                                        (change)="onUnitChange(figCorner.corner, insetArgs.border_radius, true)"
                                    />
                                </div>
                            </div>
                        }
                    </div>
                }
            }
        </div>
    }
</div>