<div class="definition">
    <span>{{definition}}</span>
</div>
<div class="def-container">
    <div class="syntax">
        <span>{{'clip-path = '}}</span>
        <button 
            (click)="argSelect(clipPath.clipSource.value)" 
            [ngClass]="{'selected': selectedArg == clipPath.clipSource.value}"
        >
            {{clipPath.clipSource.syntax}}
        </button>
        <span>{{' | [ '}}</span>
        <button 
            (click)="argSelect(clipPath.basicShape.value)"
            [ngClass]="{'selected': selectedArg == clipPath.basicShape.value}"
        >
            {{clipPath.basicShape.syntax}}
        </button>
        <span>{{' || '}}</span>
        <button 
            (click)="argSelect(clipPath.geometryBox.value)"
            [ngClass]="{'selected': selectedArg == clipPath.geometryBox.value}"
        >
            {{clipPath.geometryBox.syntax}}
        </button>
        <span>{{' ] | none'}}</span>
    </div>
    <div class="compatibility">
        <a [href]="compatibility" target="_blank">Compatibility</a>
    </div>
</div>
@switch (selectedArg) {
    @case (clipPath.clipSource.value) {
        <div class="clipSource">
            <span class="source">{{'clip-source = url(' + clipPath.clipSource.id + ')'}}</span>
            <!-- SVG EXAMPLES -->
            <div class="options">
                <div class="option small" (click)="clipSourceSelect('#circleClip')">
                    <span>{{'#circleClip'}}</span>
                    <svg width="0" height="0">
                    <defs>
                        <clipPath id="circleClip">
                            <circle cx="250" cy="250" r="50" />
                        </clipPath>
                    </defs>
                    </svg>
                </div>
                <div class="option small" (click)="clipSourceSelect('#rectangleClip')">
                    <span>{{'#rectangleClip'}}</span>
                    <svg width="0" height="0" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <clipPath id="rectangleClip">
                            <rect x="250" y="250" width="200" height="50" />
                        </clipPath>
                    </defs>
                    </svg>
                </div>
                <div class="option small" (click)="clipSourceSelect('#halfCircle')">
                    <span>{{'#halfCircle'}}</span>
                    <svg width="200" height="100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <clipPath id="cut-bottom">
                            <rect x="150" y="150" width="200" height="50" />
                        </clipPath>
                    </defs>
                    <defs>
                        <clipPath id="halfCircle">
                            <circle cx="250" cy="250" r="100" fill="red" clip-path="url(#cut-bottom)" />
                        </clipPath>
                    </defs>
                    </svg>
                </div>
            </div>
        </div>
        <div class="definition under">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><!--!Font Awesome Free v7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--><path d="M576 304C576 436.5 461.4 544 320 544C282.9 544 247.7 536.6 215.9 523.3L97.5 574.1C88.1 578.1 77.3 575.8 70.4 568.3C63.5 560.8 62 549.8 66.8 540.8L115.6 448.6C83.2 408.3 64 358.3 64 304C64 171.5 178.6 64 320 64C461.4 64 576 171.5 576 304z"/></svg>
            <p>{{clipPath.clipSource.explanation}}</p>
        </div>
    }
    @case (clipPath.basicShape.value) {
        <div class="options">
            @for (option of clipPathOptions; track $index) {
                <div class="option" (click)="onClick(option.value)" [ngClass]="{'selected': option.value == mode}">
                    <h3>{{option.mode}}</h3>
                    <div [class]="'sample ' + option.mode "></div>
                </div>
            }
        </div>
        <div class="option-desc">
            @switch (mode) {
                @case (shapes.inset) {
                    <Inset/>
                }
                @case (shapes.circle) {
                    <Circle/>
                }
                @case (shapes.ellipse) {
                    <Ellipse/>
                }
                @case (shapes.polygon) {
                    <Polygon/>
                }
                @case (shapes.path) {
                    <Path/>
                }
                @case (shapes.rect) {
                    <Rect/>
                }
                @case (shapes.xywh) {
                    <Xywh/>
                }
                @case (shapes.shape) {
                    <Shape/>
                }
            }
        </div>
    }
    @case (clipPath.geometryBox.value) {
        <div>

        </div>
        <div class="explanation">

        </div>
    }
}